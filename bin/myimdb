#!/usr/bin/env ruby

require 'myimdb.rb'

name = ARGV.join(' ')

if name.blank?
  p "Movie name required - exiting"
  exit(0)
end

search_scope  = "imdb.com"

begin
  search_result = Myimdb::Search::Google.search_text(name, search_scope)[0]
  imdb          = Myimdb::Scraper::Imdb.new(search_result["url"])
  print "#{imdb.summary}\n"
rescue
  p "Unable to fetch details for: #{name}"
end
